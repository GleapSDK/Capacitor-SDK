{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"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","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nimport Gleap from 'gleap';\n\nimport type { GleapEventCallback, GleapPlugin } from './definitions';\n\nexport class GleapWeb extends WebPlugin implements GleapPlugin {\n  static callbacks: { [key: string]: GleapEventCallback } = {};\n  static initialized = false;\n\n  async initialize(options: {\n    API_KEY: string;\n  }): Promise<{ initialized: boolean }> {\n    if (GleapWeb.initialized) {\n      return { initialized: true };\n    }\n\n    Gleap.initialize(options.API_KEY);\n\n    GleapWeb.initialized = true;\n    this.registerCallbackListeners();\n\n    return { initialized: true };\n  }\n\n  registerCallbackListeners(): void {\n    Gleap.on('open', () => {\n      this.notifyCallbacks('open', {});\n    });\n\n    Gleap.on('initialized', () => {\n      this.notifyCallbacks('initialized', {});\n    });\n\n    Gleap.on('close', () => {\n      this.notifyCallbacks('close', {});\n    });\n\n    Gleap.on('feedback-sent', formData => {\n      this.notifyCallbacks('feedback-sent', formData);\n    });\n\n    Gleap.on('outbound-sent', formData => {\n      this.notifyCallbacks('outbound-sent', formData);\n    });\n\n    Gleap.on('tool-execution', toolExecution => {\n      this.notifyCallbacks('tool-execution', toolExecution);\n    });\n\n    Gleap.on('flow-started', flow => {\n      this.notifyCallbacks('flow-started', flow);\n    });\n\n    Gleap.on('error-while-sending', () => {\n      this.notifyCallbacks('error-while-sending', {});\n    });\n\n    Gleap.on('unregister-pushmessage-group', groupName => {\n      this.notifyCallbacks('unregister-pushmessage-group', groupName);\n    });\n\n    Gleap.on('register-pushmessage-group', groupName => {\n      this.notifyCallbacks('register-pushmessage-group', groupName);\n    });\n\n    Gleap.on('unread-count-changed', groupName => {\n      this.notifyCallbacks('notification-count-updated', groupName);\n    });\n\n    Gleap.registerCustomAction(customAction => {\n      this.notifyCallbacks('custom-action-called', customAction);\n    });\n  }\n\n  async setAiTools(options: {\n    tools: {\n      name: string;\n      description: string;\n      response: string;\n      executionType: 'auto' | 'button';\n      parameters: {\n        name: string;\n        description: string;\n        type: 'string' | 'number' | 'boolean';\n        required: boolean;\n        enums?: string[] | undefined;\n      }[];\n    }[];\n  }): Promise<{ aiToolsSet: boolean }> {\n    Gleap.setAiTools(options.tools);\n\n    return { aiToolsSet: true };\n  }\n\n  async setTicketAttribute(options: {\n    key: string;\n    value: string;\n  }): Promise<{ setTicketAttribute: boolean }> {\n    Gleap.setTicketAttribute(options.key, options.value);\n\n    return { setTicketAttribute: true };\n  }\n\n  notifyCallbacks(event: string, data: any): void {\n    if (!GleapWeb.callbacks) {\n      return;\n    }\n\n    for (var callbackId in GleapWeb.callbacks) {\n      GleapWeb.callbacks[callbackId]({\n        name: event,\n        data,\n      });\n    }\n  }\n\n  async startClassicForm(options: {\n    formId?: string | undefined;\n    showBackButton?: boolean | undefined;\n  }): Promise<{ classicFormStarted: boolean }> {\n    Gleap.startClassicForm(options.formId ?? '', options.showBackButton);\n\n    return { classicFormStarted: true };\n  }\n\n  async startConversation(options: {\n    showBackButton?: boolean | undefined;\n  }): Promise<{ conversationStarted: boolean }> {\n    Gleap.startConversation(options.showBackButton);\n\n    return { conversationStarted: true };\n  }\n\n  async openConversation(options: {\n    showBackButton?: boolean | undefined;\n  }): Promise<{ conversationsOpened: boolean }> {\n    Gleap.openConversations(options.showBackButton);\n\n    return { conversationsOpened: true };\n  }\n\n  async showSurvey(options: {\n    surveyId: string;\n    format?: 'survey' | 'survey_full' | undefined;\n  }): Promise<{ opened: boolean }> {\n    Gleap.showSurvey(options.surveyId, options.format);\n\n    return { opened: true };\n  }\n\n  async showFeedbackButton(options: {\n    show: boolean;\n  }): Promise<{ feedbackButtonShown: boolean }> {\n    Gleap.showFeedbackButton(options.show ? true : false);\n\n    return { feedbackButtonShown: true };\n  }\n\n  async setDisableInAppNotifications(options: {\n    disableInAppNotifications?: boolean | undefined;\n  }): Promise<{ inAppNotificationsDisabled: boolean }> {\n    Gleap.setDisableInAppNotifications(\n      options.disableInAppNotifications ?? false,\n    );\n\n    return { inAppNotificationsDisabled: true };\n  }\n\n  async identify(options: {\n    userId: string;\n    userHash?: string | undefined;\n    customData?: Object | undefined;\n    name?: string | undefined;\n    email?: string | undefined;\n    phone?: string | undefined;\n    companyId?: string | undefined;\n    companyName?: string | undefined;\n    sla?: number | undefined;\n    plan?: string | undefined;\n    value?: number | undefined;\n  }): Promise<{ identify: boolean }> {\n    var userData = {\n      name: options.name,\n      email: options.email,\n      phone: options.phone,\n      companyId: options.companyId,\n      companyName: options.companyName,\n      sla: options.sla,\n      plan: options.plan,\n      value: options.value,\n      customData: options.customData,\n    };\n    if (options.userHash) {\n      Gleap.identify(options.userId, userData, options.userHash);\n    } else {\n      Gleap.identify(options.userId, userData);\n    }\n\n    return { identify: true };\n  }\n\n  async updateContact(options: {\n    name?: string | undefined;\n    email?: string | undefined;\n    phone?: string | undefined;\n    companyId?: string | undefined;\n    companyName?: string | undefined;\n    sla?: number | undefined;\n    plan?: string | undefined;\n    value?: number | undefined;\n    customData?: Object | undefined;\n  }): Promise<{ identify: boolean }> {\n    Gleap.updateContact(options);\n\n    return { identify: true };\n  }\n\n  async setNetworkLogsBlacklist(options: {\n    blacklist: string[];\n  }): Promise<{ blacklistSet: boolean }> {\n    Gleap.setNetworkLogsBlacklist(options.blacklist);\n\n    return { blacklistSet: true };\n  }\n\n  async setNetworkLogPropsToIgnore(options: {\n    propsToIgnore: string[];\n  }): Promise<{ propsToIgnoreSet: boolean }> {\n    Gleap.setNetworkLogPropsToIgnore(options.propsToIgnore);\n\n    return { propsToIgnoreSet: true };\n  }\n\n  async setTags(options: { tags: string[] }): Promise<{ tagsSet: boolean }> {\n    Gleap.setTags(options.tags);\n\n    return { tagsSet: true };\n  }\n\n  async clearIdentity(): Promise<{ clearIdentity: boolean }> {\n    Gleap.clearIdentity();\n\n    return { clearIdentity: true };\n  }\n\n  async getIdentity(): Promise<{\n    identity: {\n      userId: string;\n      name?: string | undefined;\n      email?: string | undefined;\n      phone?: string | undefined;\n      companyId?: string | undefined;\n      companyName?: string | undefined;\n      sla?: number | undefined;\n      plan?: string | undefined;\n      value?: number | undefined;\n    };\n  }> {\n    return { identity: Gleap.getIdentity() };\n  }\n\n  async isUserIdentified(): Promise<{ isUserIdentified: boolean }> {\n    return { isUserIdentified: Gleap.isUserIdentified() };\n  }\n\n  async attachCustomData(options: {\n    data: any;\n  }): Promise<{ attachedCustomData: boolean }> {\n    Gleap.attachCustomData(options.data);\n\n    return { attachedCustomData: true };\n  }\n\n  async setCustomData(options: {\n    key: string;\n    value: string;\n  }): Promise<{ setCustomData: boolean }> {\n    Gleap.setCustomData(options.key, options.value);\n\n    return { setCustomData: true };\n  }\n\n  async removeCustomData(options: {\n    key: string;\n  }): Promise<{ removedCustomData: boolean }> {\n    Gleap.removeCustomData(options.key);\n\n    return { removedCustomData: true };\n  }\n\n  async clearCustomData(): Promise<{ clearedCustomData: boolean }> {\n    Gleap.clearCustomData();\n\n    return { clearedCustomData: true };\n  }\n\n  async trackEvent(options: {\n    name: string;\n    data?: any;\n  }): Promise<{ loggedEvent: boolean }> {\n    Gleap.trackEvent(options.name, options.data);\n\n    return { loggedEvent: true };\n  }\n\n  async trackPage(options: {\n    pageName: string;\n  }): Promise<{ trackedPage: boolean }> {\n    Gleap.trackEvent('pageView', {\n      page: options.pageName,\n    });\n\n    return { trackedPage: true };\n  }\n\n  async startFeedbackFlow(options: {\n    feedbackFlow?: string | undefined;\n    showBackButton?: boolean | undefined;\n  }): Promise<{ startedFeedbackFlow: boolean }> {\n    if (!options.feedbackFlow) {\n    }\n\n    Gleap.startFeedbackFlow(\n      options.feedbackFlow ?? 'bugreporting',\n      options.showBackButton,\n    );\n\n    return { startedFeedbackFlow: true };\n  }\n\n  async startBot(options: {\n    botId?: string | undefined;\n    showBackButton?: boolean | undefined;\n  }): Promise<{ startedBot: boolean }> {\n    if (!options.botId) {\n    }\n\n    Gleap.startBot(options.botId ?? '', options.showBackButton);\n\n    return { startedBot: true };\n  }\n\n  async setLanguage(options: {\n    languageCode: string;\n  }): Promise<{ setLanguage: string }> {\n    Gleap.setLanguage(options.languageCode);\n\n    return { setLanguage: options.languageCode };\n  }\n\n  async log(options: {\n    message: string;\n    logLevel?: 'ERROR' | 'WARNING' | 'INFO' | undefined;\n  }): Promise<{ logged: boolean }> {\n    Gleap.log(options.message, options.logLevel);\n\n    return { logged: true };\n  }\n\n  async setEventCallback(callback: GleapEventCallback): Promise<string> {\n    var callbackId = this.makeid(10);\n    GleapWeb.callbacks[callbackId] = callback;\n    return callbackId;\n  }\n\n  async sendSilentCrashReport(options: {\n    description: string;\n    severity?: 'LOW' | 'MEDIUM' | 'HIGH' | undefined;\n    dataExclusion?:\n      | {\n          customData: Boolean;\n          metaData: Boolean;\n          attachments: Boolean;\n          consoleLog: Boolean;\n          networkLogs: Boolean;\n          customEventLog: Boolean;\n          screenshot: Boolean;\n          replays: Boolean;\n        }\n      | undefined;\n  }): Promise<{ sentSilentBugReport: boolean }> {\n    Gleap.sendSilentCrashReport(\n      options.description,\n      options.severity,\n      options.dataExclusion,\n    );\n\n    return { sentSilentBugReport: true };\n  }\n\n  async open(): Promise<{ openedWidget: boolean }> {\n    Gleap.open();\n\n    return { openedWidget: true };\n  }\n\n  async openFeatureRequests(options: {\n    showBackButton?: boolean | undefined;\n  }): Promise<{ openedFeatureRequests: boolean }> {\n    Gleap.openFeatureRequests(options.showBackButton);\n\n    return { openedFeatureRequests: true };\n  }\n\n  async openNews(options: {\n    showBackButton?: boolean | undefined;\n  }): Promise<{ openedNews: boolean }> {\n    Gleap.openNews(options.showBackButton);\n\n    return { openedNews: true };\n  }\n\n  async openNewsArticle(options: {\n    articleId: string;\n    showBackButton?: boolean | undefined;\n  }): Promise<{ opened: boolean }> {\n    Gleap.openNewsArticle(options.articleId, options.showBackButton);\n\n    return { opened: true };\n  }\n\n  async openHelpCenter(options: {\n    showBackButton?: boolean | undefined;\n  }): Promise<{ opened: boolean }> {\n    Gleap.openHelpCenter(options.showBackButton);\n\n    return { opened: true };\n  }\n\n  async openHelpCenterArticle(options: {\n    articleId: string;\n    showBackButton?: boolean | undefined;\n  }): Promise<{ opened: boolean }> {\n    Gleap.openHelpCenterArticle(options.articleId, options.showBackButton);\n\n    return { opened: true };\n  }\n\n  async openHelpCenterCollection(options: {\n    collectionId: string;\n    showBackButton?: boolean | undefined;\n  }): Promise<{ opened: boolean }> {\n    Gleap.openHelpCenterCollection(\n      options.collectionId,\n      options.showBackButton,\n    );\n\n    return { opened: true };\n  }\n\n  async searchHelpCenter(options: {\n    term: string;\n    showBackButton?: boolean | undefined;\n  }): Promise<{ opened: boolean }> {\n    Gleap.searchHelpCenter(options.term, options.showBackButton);\n\n    return { opened: true };\n  }\n\n  async close(): Promise<{ closedWidget: boolean }> {\n    Gleap.close();\n\n    return { closedWidget: true };\n  }\n\n  async isOpened(): Promise<{ isOpened: boolean }> {\n    return { isOpened: Gleap.isOpened() };\n  }\n\n  async disableConsoleLogOverwrite(): Promise<{ consoleLogDisabled: boolean }> {\n    Gleap.disableConsoleLogOverwrite();\n\n    return { consoleLogDisabled: true };\n  }\n\n  async enableDebugConsoleLog(): Promise<{ debugConsoleLogEnabled: boolean }> {\n    return { debugConsoleLogEnabled: true };\n  }\n\n  async preFillForm(options: {\n    data: any;\n  }): Promise<{ preFilledForm: boolean }> {\n    Gleap.preFillForm(options.data);\n\n    return { preFilledForm: true };\n  }\n\n  async addAttachment(_options: {\n    base64data: string;\n    name: string;\n  }): Promise<{ attachmentAdded: boolean }> {\n    throw this.unavailable('addAttachment not available for browsers');\n  }\n\n  async removeAllAttachments(): Promise<{ allAttachmentsRemoved: boolean }> {\n    throw this.unavailable('removeAllAttachments not available for browsers');\n  }\n\n  private makeid(length: number): string {\n    var result = '';\n    var characters =\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n}\n"]}